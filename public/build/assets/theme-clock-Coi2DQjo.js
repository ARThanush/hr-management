document.addEventListener("DOMContentLoaded",function(){u(),f(),g()});function u(){const e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e),document.body.classList.toggle("dark-mode",e==="dark")}function a(){const t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.classList.add("theme-transition"),document.documentElement.setAttribute("data-theme",t),document.body.classList.toggle("dark-mode",t==="dark"),localStorage.setItem("theme",t),setTimeout(()=>{document.documentElement.classList.remove("theme-transition")},300),h(t)}function g(){const e=document.getElementById("themeToggle");e&&e.addEventListener("click",a)}function h(e){typeof Toastify<"u"&&Toastify({text:`${e==="dark"?"ðŸŒ™ Dark":"â˜€ï¸ Light"} mode activated`,duration:2e3,close:!1,gravity:"top",position:"right",className:e==="dark"?"info":"warning"}).showToast()}function f(){c(),setInterval(c,1e3)}function c(){const e=new Date,t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),m=String(e.getSeconds()).padStart(2,"0"),s=`${t}:${n}:${m}`,r={weekday:"short",year:"numeric",month:"short",day:"numeric"},l=e.toLocaleDateString("en-US",r),i=document.getElementById("currentTime"),d=document.getElementById("currentDate");i&&(i.textContent=s),d&&(d.innerHTML=`<small>${l}</small>`)}function T(){return document.documentElement.getAttribute("data-theme")||"light"}function o(e){if(e!=="light"&&e!=="dark"){console.warn('Invalid theme. Use "light" or "dark"');return}document.documentElement.setAttribute("data-theme",e),document.body.classList.toggle("dark-mode",e==="dark"),localStorage.setItem("theme",e)}window.toggleTheme=a;window.getCurrentTheme=T;window.setTheme=o;document.addEventListener("keydown",function(e){(e.ctrlKey||e.metaKey)&&e.shiftKey&&e.key==="D"&&(e.preventDefault(),a())});if(window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)");if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";o(t)}e.addEventListener("change",t=>{if(!localStorage.getItem("theme")){const n=t.matches?"dark":"light";o(n)}})}console.log("ðŸŽ¨ Theme Switcher & Clock Widget loaded successfully!");
